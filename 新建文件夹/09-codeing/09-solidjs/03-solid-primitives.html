<!doctype html><html data-theme="light" lang="zh-CN"><head> <meta charset="UTF-8"> <meta content="width=device-width,initial-scale=1" name="viewport"> <title>ABlog</title> <link href="../../../logo.svg" rel="icon" type="image/x-icon"> <link href="../../../normalize.css" rel="stylesheet"> <link href="../../../github-markdown.css" rel="stylesheet"> <link href="../../../github-alert.css" rel="stylesheet"> <link href="../../../hljs.css" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" crossorigin="anonymous" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+"> <link href="../../../index.css" rel="stylesheet"> <meta content="ABlog 是一个高性能的文档生成器" name="description"> <meta content="ABlog,文档生成器,markdown,md,html,markdown转html,md2html,blog" name="keywords"> </head> <body> <header id="header-box"> <svg class="menu-btn" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>菜单</title> <path d="M3 4h18v2H3zm0 7h18v2H3zm0 7h18v2H3z" fill="currentColor"></path> </svg> <h1 id="header"><a href="../../../index.html">ABlog</a></h1> <div class="github"> <a href="https://github.com/share121/ablog" target="_blank">Github</a> </div> <svg class="random-btn" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>文章漫游</title> <path d="M5 5v14h14V5zM3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.5 12a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M10 8.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m2 5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3" fill="currentColor"></path> </svg> <svg class="theme-switch sun" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>切换到深色模式</title> <path d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12m0-2a4 4 0 1 0 0-8a4 4 0 0 0 0 8M11 1h2v3h-2zm0 19h2v3h-2zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414zM23 11v2h-3v-2zM4 11v2H1v-2z" fill="currentColor"></path> </svg> <svg class="theme-switch moon" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>切换到浅色模式</title> <path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2h.1A6.98 6.98 0 0 0 10 7m-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938A8 8 0 0 0 4 12" fill="currentColor"></path> </svg> </header> <div class="markdown-body" id="app"> <aside id="content"><ul><li><a href="../../../grammar.html">语法</a></li><li><a href="../../../second.html">第二个页面</a></li><li><a href="../../../dfsdf/index.html">dfsdf</a><ul><li><a href="../../../dfsdf/gegegeg/index.html">gegegeg</a><ul><li><a href="../../../dfsdf/gegegeg/egeg.html">egeg</a></li></ul></li></ul></li><li><a href="../../../person/index.html">人</a><ul><li><a href="../../../person/head.html">头</a></li><li><a href="../../../person/body.html">身体</a></li><li><a href="../../../person/foot.html">脚</a></li></ul></li><li><a href="../../../新建文件夹/index.html">新建文件夹</a><ul><li><a href="../../../新建文件夹/01-intro.html">01-intro</a></li><li><a href="../../../新建文件夹/02-chinese/index.html">02-chinese</a><ul><li><a href="../../../新建文件夹/02-chinese/01-梦想励志类作文.html">01-梦想励志类作文</a></li><li><a href="../../../新建文件夹/02-chinese/02-议论文作文.html">02-议论文作文</a></li><li><a href="../../../新建文件夹/02-chinese/03-真情作文.html">03-真情作文</a></li><li><a href="../../../新建文件夹/02-chinese/04-书体特点.html">04-书体特点</a></li></ul></li><li><a href="../../../新建文件夹/03-math/index.html">03-math</a><ul><li><a href="../../../新建文件夹/03-math/01-相似三角形.html">01-相似三角形</a></li><li><a href="../../../新建文件夹/03-math/02-圆.html">02-圆</a></li><li><a href="../../../新建文件夹/03-math/03-二次函数.html">03-二次函数</a></li><li><a href="../../../新建文件夹/03-math/04-反比例函数.html">04-反比例函数</a></li></ul></li><li><a href="../../../新建文件夹/04-english/index.html">04-english</a><ul><li><a href="../../../新建文件夹/04-english/01-定语从句.html">01-定语从句</a></li><li><a href="../../../新建文件夹/04-english/02-开学考笔记.html">02-开学考笔记</a></li><li><a href="../../../新建文件夹/04-english/03-student-times/index.html">03-student-times</a><ul><li><a href="../../../新建文件夹/04-english/03-student-times/01.html">01</a></li><li><a href="../../../新建文件夹/04-english/03-student-times/02.html">02</a></li><li><a href="../../../新建文件夹/04-english/03-student-times/05.html">05</a></li></ul></li><li><a href="../../../新建文件夹/04-english/04-fit-english/index.html">04-fit-english</a><ul><li><a href="../../../新建文件夹/04-english/04-fit-english/06.html">06</a></li></ul></li></ul></li><li><a href="../../../新建文件夹/05-politics/index.html">05-politics</a><ul><li><a href="../../../新建文件夹/05-politics/01-九上政治提纲.html">01-九上政治提纲</a></li></ul></li><li><a href="../../../新建文件夹/06-history/index.html">06-history</a><ul><li><a href="../../../新建文件夹/06-history/01-八年级下册/index.html">01-八年级下册</a><ul><li><a href="../../../新建文件夹/06-history/01-八年级下册/01-中华人民共和国成立.html">01-中华人民共和国成立</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/02-抗美援朝.html">02-抗美援朝</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/03-土地改革.html">03-土地改革</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/04-新中国工业化的起步和人民代表大会制度的确立.html">04-新中国工业化的起步和人民代表大会制度的确立</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/05-三大改造.html">05-三大改造</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/06-艰辛探索与建设成就.html">06-艰辛探索与建设成就</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/07-伟大的历史转折.html">07-伟大的历史转折</a></li><li><a href="../../../新建文件夹/06-history/01-八年级下册/08-经济体制改革.html">08-经济体制改革</a></li></ul></li></ul></li><li><a href="../../../新建文件夹/07-physics/index.html">07-physics</a><ul><li><a href="../../../新建文件夹/07-physics/01-分子热运动.html">01-分子热运动</a></li><li><a href="../../../新建文件夹/07-physics/02-内能.html">02-内能</a></li></ul></li><li><a href="../../../新建文件夹/08-chemistry/index.html">08-chemistry</a><ul><li><a href="../../../新建文件夹/08-chemistry/01-初识化学.html">01-初识化学</a></li><li><a href="../../../新建文件夹/08-chemistry/02-走进化学实验室.html">02-走进化学实验室</a></li><li><a href="../../../新建文件夹/08-chemistry/03-实验探究初步.html">03-实验探究初步</a></li><li><a href="../../../新建文件夹/08-chemistry/04-空气和氧气.html">04-空气和氧气</a></li><li><a href="../../../新建文件夹/08-chemistry/05-氧气的制备综合.html">05-氧气的制备综合</a></li><li><a href="../../../新建文件夹/08-chemistry/06-物质的变化和性质.html">06-物质的变化和性质</a></li><li><a href="../../../新建文件夹/08-chemistry/07-化学常用知识.html">07-化学常用知识</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/index.html">09-codeing</a><ul><li><a href="../../../新建文件夹/09-codeing/01-html/index.html">01-html</a><ul><li><a href="../../../新建文件夹/09-codeing/01-html/01-HTML 语法.html">01-HTML 语法</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/index.html">03-javascript</a><ul><li><a href="../../../新建文件夹/09-codeing/03-javascript/01-scope 伪类.html">01-scope 伪类</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/02-观察元素更改.html">02-观察元素更改</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/03-修改文件访问时间、修改时间.html">03-修改文件访问时间、修改时间</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/04-获得所有文件.html">04-获得所有文件</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/05-获得数据类型.html">05-获得数据类型</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/06-判断字体是否可用.html">06-判断字体是否可用</a></li><li><a href="../../../新建文件夹/09-codeing/03-javascript/07-统计中文.html">07-统计中文</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/04-crack/index.html">04-crack</a><ul><li><a href="../../../新建文件夹/09-codeing/04-crack/01-无限 debugger.html">01-无限 debugger</a></li><li><a href="../../../新建文件夹/09-codeing/04-crack/02-模拟输入.html">02-模拟输入</a></li><li><a href="../../../新建文件夹/09-codeing/04-crack/03-防止强制跳转.html">03-防止强制跳转</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/06-python/index.html">06-python</a><ul><li><a href="../../../新建文件夹/09-codeing/06-python/01-后台操作键鼠.html">01-后台操作键鼠</a></li><li><a href="../../../新建文件夹/09-codeing/06-python/02-OpenCV.html">02-OpenCV</a></li><li><a href="../../../新建文件夹/09-codeing/06-python/02-OpenCV_files/index.html">02-OpenCV_files</a><ul></ul></li></ul></li><li><a href="../../../新建文件夹/09-codeing/07-dart/index.html">07-dart</a><ul><li><a href="../../../新建文件夹/09-codeing/07-dart/01-线程管理.html">01-线程管理</a></li><li><a href="../../../新建文件夹/09-codeing/07-dart/02-字符分割.html">02-字符分割</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/08-nuxtjs/index.html">08-nuxtjs</a><ul><li><a href="../../../新建文件夹/09-codeing/08-nuxtjs/01-启动项目.html">01-启动项目</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/09-solidjs/index.html">09-solidjs</a><ul><li><a href="../../../新建文件夹/09-codeing/09-solidjs/01-why-solid.html">01-why-solid</a></li><li><a href="../../../新建文件夹/09-codeing/09-solidjs/03-solid-primitives.html">03-solid-primitives</a></li><li><a href="../../../新建文件夹/09-codeing/09-solidjs/04-typescript-for-solid.html">04-typescript-for-solid</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/10-cpp/index.html">10-cpp</a><ul><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/index.html">01-basic-concepts</a><ul><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/01-basic-concepts.html">01-basic-concepts</a></li><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/02-comment.html">02-comment</a></li><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/03-ascii.html">03-ascii</a></li><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/04-punctuators.html">04-punctuators</a></li><li><a href="../../../新建文件夹/09-codeing/10-cpp/01-basic-concepts/05-identifiers.html">05-identifiers</a></li></ul></li></ul></li><li><a href="../../../新建文件夹/09-codeing/11-utools/index.html">11-utools</a><ul><li><a href="../../../新建文件夹/09-codeing/11-utools/01-welcome.html">01-welcome</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/02-config.html">02-config</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/03-preload.html">03-preload</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/04-template.html">04-template</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/05-api.html">05-api</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/06-db.html">06-db</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/07-ubrowser.html">07-ubrowser</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/08-server-api.html">08-server-api</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/09-payment.html">09-payment</a></li><li><a href="../../../新建文件夹/09-codeing/11-utools/10-best.html">10-best</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/index.html">12-大师课</a><ul><li><a href="../../../新建文件夹/09-codeing/12-大师课/01-原理 事件循环.html">01-原理 事件循环</a></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/02-原理 浏览器渲染原理.html">02-原理 浏览器渲染原理</a></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/03-实战 歌词滚动效果.html">03-实战 歌词滚动效果</a></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/04-实战 购物车效果.html">04-实战 购物车效果</a></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/05-知识 属性描述符.html">05-知识 属性描述符</a></li><li><a href="../../../新建文件夹/09-codeing/12-大师课/06-框架 Vue 从入门到手撕.html">06-框架 Vue 从入门到手撕</a></li></ul></li><li><a href="../../../新建文件夹/09-codeing/13-dart-tutorials/index.html">13-dart-tutorials</a><ul><li><a href="../../../新建文件夹/09-codeing/13-dart-tutorials/01-variables.html">01-variables</a></li><li><a href="../../../新建文件夹/09-codeing/13-dart-tutorials/02-operators.html">02-operators</a></li></ul></li></ul></li><li><a href="../../../新建文件夹/10-technology/index.html">10-technology</a><ul><li><a href="../../../新建文件夹/10-technology/01-单文件制作/index.html">01-单文件制作</a><ul><li><a href="../../../新建文件夹/10-technology/01-单文件制作/01-单文件制作.html">01-单文件制作</a></li></ul></li><li><a href="../../../新建文件夹/10-technology/02-白嫖 Office 365/index.html">02-白嫖 Office 365</a><ul><li><a href="../../../新建文件夹/10-technology/02-白嫖 Office 365/02-白嫖 Office 365.html">02-白嫖 Office 365</a></li></ul></li><li><a href="../../../新建文件夹/10-technology/03-mp4-to-m3u8.html">03-mp4-to-m3u8</a></li><li><a href="../../../新建文件夹/10-technology/04-win11-concept-cursor/index.html">04-win11-concept-cursor</a><ul><li><a href="../../../新建文件夹/10-technology/04-win11-concept-cursor/04-win11-concept-cursor.html">04-win11-concept-cursor</a></li></ul></li><li><a href="../../../新建文件夹/10-technology/05-fira-code-font-download/index.html">05-fira-code-font-download</a><ul></ul></li><li><a href="../../../新建文件夹/10-technology/06-free-music/index.html">06-free-music</a><ul><li><a href="../../../新建文件夹/10-technology/06-free-music/06-free-music.html">06-free-music</a></li></ul></li><li><a href="../../../新建文件夹/10-technology/07-fast-download.html">07-fast-download</a></li><li><a href="../../../新建文件夹/10-technology/08-fiddler.html">08-fiddler</a></li><li><a href="../../../新建文件夹/10-technology/09-share-fanyi.html">09-share-fanyi</a></li><li><a href="../../../新建文件夹/10-technology/10-misans-font-download.html">10-misans-font-download</a></li><li><a href="../../../新建文件夹/10-technology/11-update-chrome-plugin.html">11-update-chrome-plugin</a></li></ul></li><li><a href="../../../新建文件夹/11-团校笔记/index.html">11-团校笔记</a><ul><li><a href="../../../新建文件夹/11-团校笔记/01.html">01</a></li><li><a href="../../../新建文件夹/11-团校笔记/02.html">02</a></li><li><a href="../../../新建文件夹/11-团校笔记/03.html">03</a></li><li><a href="../../../新建文件夹/11-团校笔记/04.html">04</a></li><li><a href="../../../新建文件夹/11-团校笔记/05.html">05</a></li><li><a href="../../../新建文件夹/11-团校笔记/06.html">06</a></li><li><a href="../../../新建文件夹/11-团校笔记/07.html">07</a></li></ul></li><li><a href="../../../新建文件夹/12-信息技术/index.html">12-信息技术</a><ul><li><a href="../../../新建文件夹/12-信息技术/01-动画制作初步.html">01-动画制作初步</a></li><li><a href="../../../新建文件夹/12-信息技术/02-信息与信息处理.html">02-信息与信息处理</a></li><li><a href="../../../新建文件夹/12-信息技术/03-数据的分析与处理.html">03-数据的分析与处理</a></li><li><a href="../../../新建文件夹/12-信息技术/04-制作多媒体作品.html">04-制作多媒体作品</a></li><li><a href="../../../新建文件夹/12-信息技术/05-程序设计初步.html">05-程序设计初步</a></li><li><a href="../../../新建文件夹/12-信息技术/06-网络基础及应用.html">06-网络基础及应用</a></li><li><a href="../../../新建文件夹/12-信息技术/07-App Inventor 手机积木式编程.html">07-App Inventor 手机积木式编程</a></li></ul></li><li><a href="../../../新建文件夹/13-大师课/index.html">13-大师课</a><ul><li><a href="../../../新建文件夹/13-大师课/01-原理-事件循环.html">01-原理-事件循环</a></li></ul></li></ul></li></ul></aside> <main class="markdown-body" id="main"><hr> <h2 id="last_updatedate-1700137651710" tabindex="-1">last_update: date: 1700137651710<a href="#last_updatedate-1700137651710" class="header-anchor">#</a></h2> <h1 id="实体基元" tabindex="-1">实体基元<a href="#实体基元" class="header-anchor">#</a></h1> <p>在本页中，我们将解释开始使用 Solid 基元以及在组件内部和外部使用 Solid 基元需要了解的内容。</p> <h2 id="实体基元-1" tabindex="-1">实体基元<a href="#实体基元-1" class="header-anchor">#</a></h2> <p>首先，让我们从 Solid primitves 开始。什么是原语？基元是任何编程语言、框架或库中可用的最简单的元素、函数或数据类型。</p> <p>在 Solid 中，基元是负责管理 Solid 应用程序中的反应性的构建块。以下是 Solid 基元的列表：</p> <ul> <li><a href="#createsignal"><code>createSignal</code></a></li> <li><a href="#createeffect"><code>createEffect</code></a></li> <li><a href="#creatememo"><code>createMemo</code></a></li> <li><a href="#createresource"><code>createResource</code></a></li> <li><code>createRoot</code></li> <li><code>createRenderEffect</code></li> <li><code>createDeferred</code></li> <li><code>createComputed</code></li> <li><code>createContext</code></li> <li><code>createMutable</code></li> <li><code>createStore</code></li> </ul> <p>:::tip</p> <p>实体基元可以在任何范围内使用，它们不需要在组件中使用。实体组件不拥有其状态，因为它们只是设置函数，与设置后的反应系统无关。</p> <p>:::</p> <p>我们将重点介绍最常用的基元 <code>createSignal</code>、<code>createMemo</code>、<code>createEffect</code> 和 <code>createResource</code>。要更深入地了解 Solid 拥有的所有基元，请查看<a href="https://docs.solidjs.com/references/concepts" target="_blank">概念页面</a>。</p> <h2 id="createsignal" tabindex="-1"><code>createSignal</code><a href="#createsignal" class="header-anchor">#</a></h2> <p><code>createSignal</code> 是 Solid 中最常用的原语。它用于创建反应式状态变量。它采用一个可选的初始值，并返回一个元组，其中包含 getter 函数来获取当前值，并返回一个 setter 函数来设置值。</p> <p><code>createSignal</code> 可用于存储几乎任何类型的数据类型，包括对象和数组。但是，在 Solid 中，建议使用 <code>createStore</code> 原语来存储对象和数组。这是因为 <code>createStore</code> 经过优化以处理嵌套反应性的情况。有关此内容的更多信息，请参阅参考部分。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createSignal } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">0</span>);
</code></pre> <p><code>createSignal</code> 不需要在组件中使用。它可以在应用中的任何位置使用。无论是在组件、函数中，还是在组件或函数之外。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createSignal } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">0</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-title function_">count</span>() + <span class="hljs-number">1</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-title function_">count</span>() - <span class="hljs-number">1</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{decrement}</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count()}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre> <p>在上面的示例中，我们有一个 <code>count</code> 状态变量，用于跟踪当前计数。我们有两个函数，<code>increment</code> 和 <code>decrement</code> 用于更新 <code>count</code> 状态变量。我们还有一个组件，<code>Counter</code> 它使用 <code>count</code> 状态变量来显示当前计数。</p> <p>正如您在上面的示例中注意到的，我们在组件外部使用 <code>createSignal</code>。这完全没问题，甚至可以从另一个文件导入信号并使其仍然具有反应性。您可以在应用程序中的任何位置使用 <code>createSignal</code>，因为在 Solid 中，组件不拥有自己的状态。通过这种方式，Solid 内置了状态管理，并且不需要 Redux 或其他状态管理库，除非您想使用特定于它们的功能。</p> <p>:::tip</p> <p>与此相对应的 Vue 是 <code>ref</code> 函数。该 <code>ref</code> 函数用于创建组件的本地状态变量。这意味着在卸载组件时，状态变量将被销毁。在 Solid 中，组件不拥有自己的状态。</p> <p>这意味着在卸载组件时不会销毁状态变量。这是因为实体组件只是设置函数，与设置后的反应系统无关。</p> <p>:::</p> <h2 id="creatememo" tabindex="-1"><code>createMemo</code><a href="#creatememo" class="header-anchor">#</a></h2> <p><code>createMemo</code> 用于创建从其他反应式状态变量派生的反应式状态变量。它采用一个返回状态变量值的函数，并返回一个 getter 函数来获取当前值。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createSignal, createMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">const</span> double = <span class="hljs-title function_">createMemo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">count</span>() * <span class="hljs-number">2</span>);
</code></pre> <p>在上面的示例中，我们有一个 <code>count</code> 状态变量，用于跟踪当前计数。我们还有一个 <code>double</code> 状态变量，<code>double</code> 状态变量是 <code>count</code> 状态变量的记忆版本。这意味着 <code>count</code> 只有当状态变量更改时，<code>double</code> 才会重新计算状态变量。</p> <p>下面是一个快速示例，说明如何利 <code>createMemo</code> 用它来创建记忆派生状态并在组件中使用它。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">const</span> double = <span class="hljs-title function_">createMemo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">count</span>() * <span class="hljs-number">2</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count() - 1)}&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>This is the base value : {count()}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>This is the doubled value : {double()}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count() + 1)}&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre> <p>在 <code>createMemo</code> 背后用到了 <code>createComputed</code> 创建计算值。有关 <code>createComputed</code> 原语的更多信息，请参阅参考部分。</p> <p>:::tip</p> <p>与此相对应的 Vue 是 <code>computed</code> 函数。<code>computed</code> 当依赖的状态变量改变时，才会重新计算它。</p> <p>:::</p> <h2 id="createeffect" tabindex="-1"><code>createEffect</code><a href="#createeffect" class="header-anchor">#</a></h2> <p><code>createEffect</code> 用于创建反应效果。它采用一个函数，每当函数中使用的反应性状态变量发生变化时，该函数就会执行。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createSignal, createEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// highlight-start</span>
<span class="hljs-title function_">createEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Count has been updated:"</span>, <span class="hljs-title function_">count</span>());
});
<span class="hljs-comment">// highlight-end</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count() - 1)}&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count()}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count() + 1)}&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre> <p>每次状态 <code>count</code> 发生变化时，都会执行效果。这对于日志记录、进行 API 调用等很有用。每当反应性状态变量的状态发生变化时，您希望运行的任何副作用都可以使用 <code>createEffect</code> 来完成。</p> <p>:::tip</p> <p>与此相对应的 Vue 是 <code>watch</code> 函数。该函数用于创建副作用，每当状态变量的状态发生变化时，就会执行该 <code>watch</code> 副作用。</p> <p>:::</p> <h2 id="createresource" tabindex="-1"><code>createResource</code><a href="#createresource" class="header-anchor">#</a></h2> <p><code>createResource</code> 是一个简单但非常有用的基元，它创建一个反映异步函数值的信号。它接受异步函数、可选选项和可选源信号，用于填充异步函数的参数。</p> <p>下面是一个快速示例，说明 <code>createResource</code> 如何使用从 API 获取数据。</p> <pre><code class="hljs lang-js"><span class="hljs-keyword">import</span> { createResource, <span class="hljs-title class_">Show</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(
    <span class="hljs-string">`https://jsonplaceholder.typicode.com/users/<span class="hljs-subst">${id}</span>`</span>
  );
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">User</span>(<span class="hljs-params">{ id }</span>) {
  <span class="hljs-keyword">const</span> [id, setId] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">1</span>);

  <span class="hljs-comment">// highlight-next-line</span>
  <span class="hljs-keyword">const</span> [user] = <span class="hljs-title function_">createResource</span>(id, fetchUser);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Show</span> <span class="hljs-attr">when</span>=<span class="hljs-string">{!user.loading}</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">LoadingComponent</span> /&gt;</span>}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>姓名：{user().name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>昵称：{user().username}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>邮箱：{user().email}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>手机：{user().phone}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>网站：{user().website}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Show</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre> <p><code>createResource</code> 返回一些非常酷的东西，你可以用它们来被动地显示资源的状态，因为你可以看到它有一个 <code>loading</code> 布尔属性，当资源正在加载时为 true，当它不加载时为 false。它还具有一个 <code>error</code> 属性，如果在获取资源时出现错误，则该属性是错误对象。<code>createResource</code> 还有一些选项，我们可以用来自定义行为。以下是它们的列表以及它们的作用的简短描述。</p> <ul> <li><code>initialValue</code>：资源的初始值。如果要在加载资源时显示某些内容，这将非常有用。</li> <li><code>name</code>：资源的名称。这对于调试很有用。</li> <li><code>deferStream</code>：一个布尔值，用于确定您的应用在呈现到流之前是否应等待资源完成。请注意，这仅在使用该 <code>renderToStream</code> 函数时才有用。</li> <li><code>ssrLoadFrom</code>：这可用于告诉资源是否应该从服务器加载其初始数据或从 <code>initialValue</code> 服务器加载初始数据。如果您有一些服务器端数据要分配给此资源，这将非常有用。这可以通过将 <code>'initial'</code> 或 <code>'server'</code> 传递给此选项来使用。</li> <li><code>storage</code>：此选项用作存储资源数据的声明性方式。如果您想将数据存储在缓存或类似的东西中，这将非常有用。此选项采用一个函数，该函数返回一个包含两个函数的元组，一个是 Accessor 和一个 Either，类型为 any。</li> </ul> <p>下面是如何使用此选项的示例。</p> <pre><code class="hljs lang-ts"><span class="hljs-keyword">import</span> { createResource } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetcherFunc</span>(<span class="hljs-params"><span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span></span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(
    <span class="hljs-string">`https://jsonplaceholder.typicode.com/users/<span class="hljs-subst">${id}</span>`</span>
  );
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
}

<span class="hljs-keyword">const</span> [id, setId] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">1</span>);
<span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">createSignal</span>({});

<span class="hljs-comment">// highlight-start</span>
<span class="hljs-keyword">const</span> [user] = <span class="hljs-title function_">createResource</span>(id, fetcherFunc, {
  <span class="hljs-attr">storage</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">init</span>: <span class="hljs-built_in">any</span></span>) =&gt;</span> [data, setData],
});
<span class="hljs-comment">// highlight-end</span>
</code></pre> <p>一旦资源的数据在上面的代码中被解析出来，它将自动存储在信号中 <code>data</code>。</p> <p>如果要在单个资源中使用多个信号值，可以通过使用 <code>createMemo</code> 基元创建派生状态来实现。您可能想知道为什么我使用 <code>createMemo</code> 原语而不是仅仅创建标准派生状态。这是因为 <code>createMemo</code> 这将有助于保持派生状态的响应性，而如果创建正常派生状态，则如果状态值更改，则派生状态将不会更新。以下是它在实际操作中的样子。</p> <pre><code class="hljs lang-ts"><span class="hljs-keyword">import</span> { createResource, createMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">"solid-js"</span>;

<span class="hljs-comment">// 获取函数更改为接受对象</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetcherFunc</span>(<span class="hljs-params"><span class="hljs-attr">info</span>: { id: <span class="hljs-built_in">number</span>; name: <span class="hljs-built_in">string</span> }</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(
    <span class="hljs-string">`https://jsonplaceholder.typicode.com/users/<span class="hljs-subst">${info.id}</span>/posts?name=<span class="hljs-subst">${info.name}</span>`</span>
  );
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
}

<span class="hljs-keyword">const</span> [id, setId] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-number">1</span>);
<span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">createSignal</span>(<span class="hljs-string">""</span>);

<span class="hljs-comment">// 使用 createMemo 创建的派生状态</span>
<span class="hljs-keyword">const</span> derivedState = <span class="hljs-title function_">createMemo</span>(<span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">id</span>: <span class="hljs-title function_">id</span>(), <span class="hljs-attr">name</span>: <span class="hljs-title function_">name</span>() }));

<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">const</span> [posts] = <span class="hljs-title function_">createResource</span>(derivedState, fetcherFunc);
</code></pre> <p>这只是一种简单的方法，您可以在 <code>createResource</code> 中使用多个信号值。</p> <p>:::tip</p> <p>要了解有关 Solid 基元的更多信息，您可以查看 Solid 深入探究部分</p> <p>:::</p> </main> <aside id="toc"><nav class="table-of-contents"><ol><li><a href="#last_updatedate-1700137651710">last_update:date: 1700137651710</a></li><li><a href="#实体基元">实体基元</a><ol><li><a href="#实体基元-1">实体基元</a></li><li><a href="#createsignal">createSignal</a></li><li><a href="#creatememo">createMemo</a></li><li><a href="#createeffect">createEffect</a></li><li><a href="#createresource">createResource</a></li></ol></li></ol></nav></aside> </div> <script>function debounce(e,t){let o=null;return function(){clearTimeout(o),o=setTimeout(()=>{e.apply(this,arguments)},t)}}let lightQuery=window.matchMedia("(prefers-color-scheme:light)");function getRandomInt(e,t){e=Math.ceil(e),t=Math.floor(t);return Math.floor(Math.random()*(t-e)+e)}if(lightQuery.addEventListener("change",e=>{localStorage.getItem("theme")||(document.documentElement.dataset.theme=["dark","light"][+e.matches])}),window.matchMedia("(max-width: 960px)").addEventListener("change",e=>{document.querySelector("#content").classList.remove("open")}),localStorage.getItem("theme")?"dark"===localStorage.getItem("theme")&&(document.documentElement.dataset.theme="dark"):document.documentElement.dataset.theme=["dark","light"][+lightQuery.matches],location.hash&&document.querySelector(decodeURIComponent(location.hash)))document.querySelector(decodeURIComponent(location.hash)).scrollIntoView();else{let e=localStorage.getItem("scroll-top-"+location.pathname);e&&(document.querySelector("#main").scrollTop=+e)}document.querySelectorAll(".theme-switch").forEach(e=>e.addEventListener("click",e=>{"dark"===document.documentElement.dataset.theme?(lightQuery.matches?localStorage.removeItem("theme"):localStorage.setItem("theme","light"),document.documentElement.dataset.theme="light"):(lightQuery.matches?localStorage.setItem("theme","dark"):localStorage.removeItem("theme"),document.documentElement.dataset.theme="dark")})),document.querySelector(".random-btn").addEventListener("click",e=>{var t=document.querySelectorAll("#content a");t[getRandomInt(0,t.length)].click()}),document.querySelector("#main").addEventListener("scroll",debounce(e=>{localStorage.setItem("scroll-top-"+location.pathname,e.target.scrollTop)},500)),document.querySelector(".menu-btn").addEventListener("click",()=>{document.querySelector("#content").classList.toggle("open")})</script> <script type="module"> import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
      mermaid.initialize({
        securityLevel: "loose",
        theme: "default",
        startOnLoad: false,
      });
      await mermaid.run({ querySelector: ".mermaid-light" });
      mermaid.initialize({
        securityLevel: "loose",
        theme: "dark",
        startOnLoad: false,
      });
      await mermaid.run({ querySelector: ".mermaid-dark" });
      document
        .querySelectorAll(".mermaid")
        .forEach((e) => e.classList.add("init")); </script> </body></html>