<!doctype html><html data-theme="light" lang="zh-CN"><head> <meta charset="UTF-8"> <meta content="width=device-width,initial-scale=1" name="viewport"> <title>ABlog</title> <link href="../../logo.svg" rel="icon" type="image/x-icon"> <link href="../../normalize.css" rel="stylesheet"> <link href="../../github-markdown.css" rel="stylesheet"> <link href="../../github-alert.css" rel="stylesheet"> <link href="../../hljs.css" rel="stylesheet"> <link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" crossorigin="anonymous" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+"> <link href="../../index.css" rel="stylesheet"> <meta content="ABlog 是一个高性能的文档生成器" name="description"> <meta content="ABlog,文档生成器,markdown,md,html,markdown转html,md2html,blog" name="keywords"> </head> <body> <header id="header-box"> <svg class="menu-btn" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>菜单</title> <path d="M3 4h18v2H3zm0 7h18v2H3zm0 7h18v2H3z" fill="currentColor"></path> </svg> <h1 id="header"><a href="../../index.html">ABlog</a></h1> <div class="github"> <a href="https://github.com/share121/ablog" target="_blank">Github</a> </div> <svg class="random-btn" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>文章漫游</title> <path d="M5 5v14h14V5zM3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.5 12a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3M10 8.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m2 5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3" fill="currentColor"></path> </svg> <svg class="theme-switch sun" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>切换到深色模式</title> <path d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12m0-2a4 4 0 1 0 0-8a4 4 0 0 0 0 8M11 1h2v3h-2zm0 19h2v3h-2zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414zM23 11v2h-3v-2zM4 11v2H1v-2z" fill="currentColor"></path> </svg> <svg class="theme-switch moon" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"> <title>切换到浅色模式</title> <path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2h.1A6.98 6.98 0 0 0 10 7m-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938A8 8 0 0 0 4 12" fill="currentColor"></path> </svg> </header> <div class="markdown-body" id="app"> <aside id="content"><ul><li><a href="../../grammar.html">语法</a></li><li><a href="../../second.html">第二个页面</a></li><li><a href="../../chinese/index.html">语文</a><ul><li><a href="../../chinese/梦想励志类作文.html">梦想励志类作文</a></li><li><a href="../../chinese/议论文作文.html">议论文作文</a></li><li><a href="../../chinese/真情作文.html">真情作文</a></li><li><a href="../../chinese/书体特点.html">书体特点</a></li></ul></li><li><a href="../../math/index.html">数学</a><ul><li><a href="../../math/相似三角形.html">相似三角形</a></li><li><a href="../../math/圆.html">圆</a></li><li><a href="../../math/二次函数.html">二次函数</a></li><li><a href="../../math/反比例函数.html">反比例函数</a></li></ul></li><li><a href="../../english/index.html">英语</a><ul><li><a href="../../english/定语从句.html">定语从句</a></li><li><a href="../../english/开学考笔记.html">开学考笔记</a></li><li><a href="../../english/student-times/index.html">周报</a><ul><li><a href="../../english/student-times/01.html">01</a></li><li><a href="../../english/student-times/02.html">02</a></li><li><a href="../../english/student-times/05.html">05</a></li></ul></li><li><a href="../../english/fit-english/index.html">沸腾英语</a><ul><li><a href="../../english/fit-english/06.html">06</a></li></ul></li></ul></li><li><a href="../../politics/index.html">政治</a><ul><li><a href="../../politics/九上政治提纲.html">九上政治提纲</a></li></ul></li><li><a href="../../history/index.html">历史</a><ul><li><a href="../../history/八年级下册/index.html">八年级下册</a><ul><li><a href="../../history/八年级下册/中华人民共和国成立.html">中华人民共和国成立</a></li><li><a href="../../history/八年级下册/抗美援朝.html">抗美援朝</a></li><li><a href="../../history/八年级下册/土地改革.html">土地改革</a></li><li><a href="../../history/八年级下册/新中国工业化的起步和人民代表大会制度的确立.html">新中国工业化的起步和人民代表大会制度的确立</a></li><li><a href="../../history/八年级下册/三大改造.html">三大改造</a></li><li><a href="../../history/八年级下册/艰辛探索与建设成就.html">艰辛探索与建设成就</a></li><li><a href="../../history/八年级下册/伟大的历史转折.html">伟大的历史转折</a></li><li><a href="../../history/八年级下册/经济体制改革.html">经济体制改革</a></li></ul></li></ul></li><li><a href="../../physics/index.html">物理</a><ul><li><a href="../../physics/分子热运动.html">分子热运动</a></li><li><a href="../../physics/内能.html">内能</a></li></ul></li><li><a href="../../chemistry/index.html">化学</a><ul><li><a href="../../chemistry/初识化学.html">初识化学</a></li><li><a href="../../chemistry/走进化学实验室.html">走进化学实验室</a></li><li><a href="../../chemistry/实验探究初步.html">实验探究初步</a></li><li><a href="../../chemistry/空气和氧气.html">空气和氧气</a></li><li><a href="../../chemistry/氧气的制备综合.html">氧气的制备综合</a></li><li><a href="../../chemistry/物质的变化和性质.html">物质的变化和性质</a></li><li><a href="../../chemistry/化学常用知识.html">化学常用知识</a></li></ul></li><li><a href="../../codeing/index.html">编程</a><ul><li><a href="../../codeing/html/index.html">HTML</a><ul><li><a href="../../codeing/html/HTML 语法.html">HTML 语法</a></li></ul></li><li><a href="../../codeing/javascript/index.html">JavaScript</a><ul><li><a href="../../codeing/javascript/scope 伪类.html">scope 伪类</a></li><li><a href="../../codeing/javascript/观察元素更改.html">观察元素更改</a></li><li><a href="../../codeing/javascript/修改文件访问时间、修改时间.html">修改文件访问时间、修改时间</a></li><li><a href="../../codeing/javascript/获得所有文件.html">获得所有文件</a></li><li><a href="../../codeing/javascript/获得数据类型.html">获得数据类型</a></li><li><a href="../../codeing/javascript/判断字体是否可用.html">判断字体是否可用</a></li><li><a href="../../codeing/javascript/统计中文.html">统计中文</a></li></ul></li><li><a href="../../codeing/crack/index.html">逆向</a><ul><li><a href="../../codeing/crack/无限 debugger.html">无限 debugger</a></li><li><a href="../../codeing/crack/模拟输入.html">模拟输入</a></li><li><a href="../../codeing/crack/防止强制跳转.html">防止强制跳转</a></li></ul></li><li><a href="../../codeing/python/index.html">Python</a><ul><li><a href="../../codeing/python/后台操作键鼠.html">后台操作键鼠</a></li><li><a href="../../codeing/python/OpenCV.html">OpenCV</a></li><li><a href="../../codeing/python/OpenCV_files/index.html">OpenCV_files</a><ul></ul></li></ul></li><li><a href="../../codeing/dart/index.html">Dart</a><ul><li><a href="../../codeing/dart/线程管理.html">线程管理</a></li><li><a href="../../codeing/dart/字符分割.html">字符分割</a></li></ul></li><li><a href="../../codeing/nuxtjs/index.html">NuxtJS</a><ul><li><a href="../../codeing/nuxtjs/启动项目.html">启动项目</a></li></ul></li><li><a href="../../codeing/solidjs/index.html">SolidJS</a><ul><li><a href="../../codeing/solidjs/why-solid.html">为什么选择 Solid</a></li><li><a href="../../codeing/solidjs/solid-primitives.html">Solid 基石</a></li><li><a href="../../codeing/solidjs/typescript-for-solid.html">Solid 的 TypeScript 语法</a></li></ul></li><li><a href="../../codeing/cpp/index.html">C++</a><ul><li><a href="../../codeing/cpp/basic-concepts/index.html">基本语法</a><ul><li><a href="../../codeing/cpp/basic-concepts/concepts.html">basic</a></li><li><a href="../../codeing/cpp/basic-concepts/comment.html">comment</a></li><li><a href="../../codeing/cpp/basic-concepts/ascii.html">ascii</a></li><li><a href="../../codeing/cpp/basic-concepts/punctuators.html">punctuators</a></li><li><a href="../../codeing/cpp/basic-concepts/identifiers.html">identifiers</a></li></ul></li></ul></li><li><a href="../../codeing/utools/index.html">utools</a><ul><li><a href="../../codeing/utools/welcome.html">welcome</a></li><li><a href="../../codeing/utools/config.html">config</a></li><li><a href="../../codeing/utools/preload.html">preload</a></li><li><a href="../../codeing/utools/template.html">template</a></li><li><a href="../../codeing/utools/api.html">api</a></li><li><a href="../../codeing/utools/db.html">db</a></li><li><a href="../../codeing/utools/ubrowser.html">ubrowser</a></li><li><a href="../../codeing/utools/server-api.html">server-api</a></li><li><a href="../../codeing/utools/payment.html">payment</a></li><li><a href="../../codeing/utools/best.html">best</a></li></ul></li><li><a href="../../codeing/大师课/index.html">大师课</a><ul><li><a href="../../codeing/大师课/原理 事件循环.html">原理 事件循环</a></li><li><a href="../../codeing/大师课/原理 浏览器渲染原理.html">原理 浏览器渲染原理</a></li><li><a href="../../codeing/大师课/实战 歌词滚动效果.html">实战 歌词滚动效果</a></li><li><a href="../../codeing/大师课/实战 购物车效果.html">实战 购物车效果</a></li><li><a href="../../codeing/大师课/知识 属性描述符.html">知识 属性描述符</a></li><li><a href="../../codeing/大师课/框架 Vue 从入门到手撕.html">框架 Vue 从入门到手撕</a></li></ul></li><li><a href="../../codeing/dart-tutorials/index.html">Dart 教程</a><ul><li><a href="../../codeing/dart-tutorials/variables.html">variables</a></li><li><a href="../../codeing/dart-tutorials/operators.html">operators</a></li></ul></li></ul></li><li><a href="../../technology/index.html">科技</a><ul><li><a href="../../technology/单文件制作/index.html">单文件制作</a><ul></ul></li><li><a href="../../technology/白嫖 Office 365/index.html">白嫖 Office 365</a><ul></ul></li><li><a href="../../technology/mp4-to-m3u8.html">mp4-to-m3u8</a></li><li><a href="../../technology/win11-concept-cursor/index.html">win11-concept-cursor</a><ul></ul></li><li><a href="../../technology/fira-code-font-download/index.html">fira-code-font-download</a><ul></ul></li><li><a href="../../technology/free-music/index.html">free-music</a><ul></ul></li><li><a href="../../technology/fast-download.html">fast-download</a></li><li><a href="../../technology/fiddler.html">fiddler</a></li><li><a href="../../technology/share-fanyi.html">share-fanyi</a></li><li><a href="../../technology/misans-font-download.html">misans-font-download</a></li><li><a href="../../technology/update-chrome-plugin.html">update-chrome-plugin</a></li></ul></li><li><a href="../../团校笔记/index.html">团校笔记</a><ul><li><a href="../../团校笔记/01.html">01</a></li><li><a href="../../团校笔记/02.html">02</a></li><li><a href="../../团校笔记/03.html">03</a></li><li><a href="../../团校笔记/04.html">04</a></li><li><a href="../../团校笔记/05.html">05</a></li><li><a href="../../团校笔记/06.html">06</a></li><li><a href="../../团校笔记/07.html">07</a></li></ul></li><li><a href="../../信息技术/index.html">信息技术</a><ul><li><a href="../../信息技术/动画制作初步.html">动画制作初步</a></li><li><a href="../../信息技术/信息与信息处理.html">信息与信息处理</a></li><li><a href="../../信息技术/数据的分析与处理.html">数据的分析与处理</a></li><li><a href="../../信息技术/制作多媒体作品.html">制作多媒体作品</a></li><li><a href="../../信息技术/程序设计初步.html">程序设计初步</a></li><li><a href="../../信息技术/网络基础及应用.html">网络基础及应用</a></li><li><a href="../../信息技术/App Inventor 手机积木式编程.html">App Inventor 手机积木式编程</a></li></ul></li><li><a href="../../大师课/index.html">大师课</a><ul><li><a href="../../大师课/原理-事件循环.html">原理-事件循环</a></li></ul></li></ul></aside> <main class="markdown-body" id="main"><h1 id="变量" tabindex="-1">变量<a href="#变量" class="header-anchor">#</a></h1> <p>Here’s an example of creating a variable and initializing it:<br> 下面是创建变量并初始化它的示例：</p> <pre><code class="hljs lang-dart"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'Bob'</span>;
</code></pre> <p>Variables store references. The variable called <code>name</code> contains a reference to a <code>String</code> object with a value of “Bob”.<br> 变量存储引用。调用 <code>name</code> 的变量包含对值为“Bob”的 <code>String</code> 对象的引用。</p> <p>The type of the <code>name</code> variable is inferred to be <code>String</code>, but you can change that type by specifying it. If an object isn’t restricted to a single type, specify the <code>Object</code> type (or <code>dynamic</code> if necessary).<br> <code>name</code> 变量的类型被推断为 <code>String</code> ，但您可以通过指定它来更改该类型。如果对象不限于单个类型，请指定 <code>Object</code> 类型（或 <code>dynamic</code> 如有必要）。</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">Object</span> name = <span class="hljs-string">'Bob'</span>;
</code></pre> <p>Another option is to explicitly declare the type that would be inferred:<br> 另一种选择是显式声明要推断的类型：</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">String</span> name = <span class="hljs-string">'Bob'</span>;
</code></pre> <p>:::note</p> <p>This page follows the <a href="https://dart.dev/effective-dart/design#types" target="_blank">style guide recommendation</a> of using <code>var</code>, rather than type annotations, for local variables.<br> 本页遵循样式指南建议，即对局部变量使用 <code>var</code> ，而不是类型注释。</p> <p>:::</p> <h2 id="null-safety-零安全" tabindex="-1">Null safety 零安全<a href="#null-safety-零安全" class="header-anchor">#</a></h2> <p>The Dart language enforces sound null safety.<br> Dart 语言强制执行声音零安全。</p> <p>Null safety prevents an error that results from unintentional access of variables set to <code>null</code>. The error is called a null dereference error. A null dereference error occurs when you access a property or call a method on an expression that evaluates to <code>null</code>. An exception to this rule is when <code>null</code> supports the property or method, like <code>toString()</code> or <code>hashCode</code>. With null safety, the Dart compiler detects these potential errors at compile time.<br> 空安全可防止因无意中访问设置为 的变量而导致 <code>null</code> 的错误。该错误称为 null 取消引用错误。当您访问属性或对计算结果为 的 <code>null</code> 表达式调用方法时，会发生 null 取消引用错误。此规则的一个例外情况是，当支持属性或方法时 <code>null</code> ，例如 <code>toString()</code> 或 <code>hashCode</code> 。在空安全的情况下，Dart 编译器会在编译时检测到这些潜在的错误。</p> <p>For example, say you want to find the absolute value of an <code>int</code> variable <code>i</code>. If <code>i</code> is <code>null</code>, calling <code>i.abs()</code> causes a null dereference error. In other languages, trying this could lead to a runtime error, but Dart’s compiler prohibits these actions. Therefore, Dart apps can’t cause runtime errors.<br> 例如，假设您要查找变量 <code>int</code> <code>i</code> 的绝对值。如果 <code>i</code> 是 <code>null</code> ，则调用 <code>i.abs()</code> 会导致 null 取消引用错误。在其他语言中，尝试这样做可能会导致运行时错误，但 Dart 的编译器禁止这些操作。因此，Dart 应用程序不会导致运行时错误。</p> <p>Null safety introduces three key changes:<br> Null 安全性引入了三个关键更改：</p> <ol> <li> <p>When you specify a type for a variable, parameter, or another relevant component, you can control whether the type allows <code>null</code>. To enable nullability, you add a <code>?</code> to the end of the type declaration.<br> 为变量、参数或其他相关组件指定类型时，可以控制该类型是否允许 <code>null</code> 。若要启用可为 null 性，请在类型声明的末尾添加 a <code>?</code> 。</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">String?</span> name  <span class="hljs-comment">// Nullable type. Can be `null` or string.</span>

<span class="hljs-built_in">String</span> name   <span class="hljs-comment">// Non-nullable type. Cannot be `null` but can be string.</span>
</code></pre> </li> <li> <p>You must initialize variables before using them. Nullable variables default to <code>null</code>, so they are initialized by default. Dart doesn’t set initial values to non-nullable types. It forces you to set an initial value. Dart doesn’t allow you to observe an uninitialized variable. This prevents you from accessing properties or calling methods where the receiver’s type can be <code>null</code> but <code>null</code> doesn’t support the method or property used.<br> 在使用变量之前，必须初始化变量。可为 null 的变量默认为 <code>null</code> ，因此默认情况下会初始化它们。Dart 不会将初始值设置为不可为 null 的类型。它强制您设置初始值。Dart 不允许你观察未初始化的变量。这会阻止您访问属性或调用接收器类型可以是 <code>null</code> 但 <code>null</code> 不支持使用的方法或属性的方法。</p> </li> <li> <p>You can’t access properties or call methods on an expression with a nullable type. The same exception applies where it’s a property or method that <code>null</code> supports like <code>hashCode</code> or <code>toString()</code>.<br> 不能访问属性或调用具有可为 null 类型的表达式的方法。如果是 <code>null</code> 支持 like <code>hashCode</code> 或 的属性或 <code>toString()</code> 方法，则相同的例外情况也适用。</p> </li> </ol> <p>Sound null safety changes potential <strong>runtime errors</strong> into <strong>edit-time</strong> analysis errors. Null safety flags a non-null variable when it has been either:<br> 健全的 null 安全性将潜在的运行时错误更改为编辑时分析错误。当非 null 变量出现以下任一情况时，Null 安全标记该变量：</p> <ul> <li>Not initialized with a non-null value.<br> 未使用非 null 值进行初始化。</li> <li>Assigned a <code>null</code> value.<br> 已分配值 <code>null</code> 。</li> </ul> <p>This check allows you to fix these errors <em>before</em> deploying your app.<br> 通过此检查，可以在部署应用之前修复这些错误。</p> <h2 id="default-value-默认值" tabindex="-1">Default value 默认值<a href="#default-value-默认值" class="header-anchor">#</a></h2> <p>Uninitialized variables that have a nullable type have an initial value of <code>null</code>. Even variables with numeric types are initially null, because numbers—like everything else in Dart—are objects.<br> 具有可为 null 类型的未初始化变量的初始值为 <code>null</code> 。即使是具有数值类型的变量最初也是空的，因为数字（就像 Dart 中的其他所有内容一样）都是对象。</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">int?</span> lineCount;
<span class="hljs-keyword">assert</span>(lineCount == <span class="hljs-keyword">null</span>);
</code></pre> <p>:::note</p> <p>Production code ignores the <code>assert()</code> call. During development, on the other hand, <code>assert(_condition_)</code> throws an exception if <em>condition</em> is false. For details, check out <a href="https://dart.dev/language/error-handling#assert" target="_blank">Assert</a>.<br> 生产代码会忽略调用 <code>assert()</code> 。另一方面，在开发过程中， <code>assert(_condition_)</code> 如果条件为 false，则会引发异常。有关详细信息，请查看 Assert。</p> <p>:::</p> <p>With null safety, you must initialize the values of non-nullable variables before you use them:<br> 使用 null 安全时，必须先初始化不可为 null 的变量的值，然后才能使用它们：</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">int</span> lineCount = <span class="hljs-number">0</span>;
</code></pre> <p>You don’t have to initialize a local variable where it’s declared, but you do need to assign it a value before it’s used. For example, the following code is valid because Dart can detect that <code>lineCount</code> is non-null by the time it’s passed to <code>print()</code>:<br> 您不必在声明局部变量的位置对其进行初始化，但需要在使用之前为其分配一个值。例如，以下代码是有效的，因为 Dart 可以在传递给 <code>print()</code> 时检测到 <code>lineCount</code> 非 null：</p> <pre><code class="hljs lang-dart"><span class="hljs-built_in">int</span> lineCount;

<span class="hljs-keyword">if</span> (weLikeToCount) {
  lineCount = countLines();
} <span class="hljs-keyword">else</span> {
  lineCount = <span class="hljs-number">0</span>;
}

<span class="hljs-built_in">print</span>(lineCount);
</code></pre> <p>Top-level and class variables are lazily initialized; the initialization code runs the first time the variable is used.<br> 顶级变量和类变量延迟初始化;初始化代码在首次使用变量时运行。</p> <h2 id="late-variables-后期变量" tabindex="-1">Late variables 后期变量<a href="#late-variables-后期变量" class="header-anchor">#</a></h2> <p>The <code>late</code> modifier has two use cases:<br> 修 <code>late</code> 饰符有两个用例：</p> <ul> <li>Declaring a non-nullable variable that’s initialized after its declaration.<br> 声明一个不可为 null 的变量，该变量在其声明后初始化。</li> <li>Lazily initializing a variable.<br> 延迟初始化变量。</li> </ul> <p>Often Dart’s control flow analysis can detect when a non-nullable variable is set to a non-null value before it’s used, but sometimes analysis fails. Two common cases are top-level variables and instance variables: Dart often can’t determine whether they’re set, so it doesn’t try.<br> 通常，Dart 的控制流分析可以在使用不可为 null 的变量之前检测该变量何时设置为非 null 值，但有时分析会失败。两种常见的情况是顶级变量和实例变量： Dart 通常无法确定它们是否被设置，因此它不会尝试。</p> <p>If you’re sure that a variable is set before it’s used, but Dart disagrees, you can fix the error by marking the variable as <code>late</code>:<br> 如果你确定一个变量在使用之前已经设置好了，但 Dart 不同意，你可以通过将变量标记为 <code>late</code> ：</p> <pre><code class="hljs lang-dart"><span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">late</span> <span class="hljs-built_in">String</span> description;

<span class="hljs-keyword">void</span> main() {
  description = <span class="hljs-string">'Feijoada!'</span>;
  <span class="hljs-built_in">print</span>(description);
}
</code></pre> <p>:::warning</p> <p>If you fail to initialize a <code>late</code> variable, a runtime error occurs when the variable is used.<br> 如果 <code>late</code> 初始化变量失败，则在使用该变量时会发生运行时错误。</p> <p>:::</p> <p>When you mark a variable as <code>late</code> but initialize it at its declaration, then the initializer runs the first time the variable is used. This lazy initialization is handy in a couple of cases:<br> 如果将变量标记为 但在 <code>late</code> 声明时对其进行初始化，则初始值设定项将在首次使用该变量时运行。这种延迟初始化在以下几种情况下非常方便：</p> <ul> <li>The variable might not be needed, and initializing it is costly.<br> 该变量可能不需要，并且初始化它的成本很高。</li> <li>You’re initializing an instance variable, and its initializer needs access to <code>this</code>.<br> 您正在初始化实例变量，其初始值设定项需要访问 <code>this</code> 。</li> </ul> <p>In the following example, if the <code>temperature</code> variable is never used, then the expensive <code>readThermometer()</code> function is never called:<br> 在以下示例中，如果从未使用过该 <code>temperature</code> 变量，则永远不会调用开销 <code>readThermometer()</code> 函数：</p> <pre><code class="hljs lang-dart"><span class="hljs-comment">// This is the program's only call to readThermometer().</span>
<span class="hljs-comment">// highlight-next-line</span>
<span class="hljs-keyword">late</span> <span class="hljs-built_in">String</span> temperature = readThermometer(); <span class="hljs-comment">// Lazily initialized.</span>
</code></pre> <h2 id="final-and-const-final-和-const" tabindex="-1">Final and const Final 和 const<a href="#final-and-const-final-和-const" class="header-anchor">#</a></h2> <p>If you never intend to change a variable, use <code>final</code> or <code>const</code>, either instead of <code>var</code> or in addition to a type. A final variable can be set only once; a const variable is a compile-time constant. (Const variables are implicitly final.)<br> 如果您从不打算更改变量，请使用 <code>final</code> 或 <code>const</code> 代替类型 <code>var</code> 或补充类型。最后一个变量只能设置一次;const 变量是编译时常量。（Const 变量是隐式 final。</p> <p>:::note</p> <p><a href="https://dart.dev/language/classes#instance-variables" target="_blank">Instance variables</a> can be <code>final</code> but not <code>const</code>.<br> 实例变量可以是 <code>final</code> ，但不能 <code>const</code> 。</p> <p>:::</p> <p>Here’s an example of creating and setting a <code>final</code> variable:<br> 下面是创建和设置 <code>final</code> 变量的示例：</p> <pre><code class="hljs lang-dart"><span class="hljs-keyword">final</span> name = <span class="hljs-string">'Bob'</span>; <span class="hljs-comment">// Without a type annotation</span>
<span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> nickname = <span class="hljs-string">'Bobby'</span>;
</code></pre> <p>You can’t change the value of a <code>final</code> variable:<br> 您无法更改 <code>final</code> 变量的值：</p> <pre><code class="hljs lang-dart"><span class="hljs-comment">// error-next-line</span>
name = <span class="hljs-string">'Alice'</span>; <span class="hljs-comment">// Error: a final variable can only be set once.</span>
</code></pre> <p>Use <code>const</code> for variables that you want to be <strong>compile-time constants</strong>. If the const variable is at the class level, mark it <code>static const</code>. Where you declare the variable, set the value to a compile-time constant such as a number or string literal, a const variable, or the result of an arithmetic operation on constant numbers:<br> 用于 <code>const</code> 要作为编译时常量的变量。如果 const 变量处于类级别，请将其 <code>static const</code> 标记为 。在声明变量时，将值设置为编译时常量，例如数字或字符串文本、const 变量或常量数的算术运算结果：</p> <pre><code class="hljs lang-dart"><span class="hljs-keyword">const</span> bar = <span class="hljs-number">1000000</span>; <span class="hljs-comment">// Unit of pressure (dynes/cm2)</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">double</span> atm = <span class="hljs-number">1.01325</span> * bar; <span class="hljs-comment">// Standard atmosphere</span>
</code></pre> <p>The <code>const</code> keyword isn’t just for declaring constant variables. You can also use it to create constant <em>values</em>, as well as to declare constructors that <em>create</em> constant values. Any variable can have a constant value.<br> 该 <code>const</code> 关键字不仅用于声明常量变量。还可以使用它来创建常量值，以及声明创建常量值的构造函数。任何变量都可以具有常量值。</p> <pre><code class="hljs lang-dart"><span class="hljs-keyword">var</span> foo = <span class="hljs-keyword">const</span> [];
<span class="hljs-keyword">final</span> bar = <span class="hljs-keyword">const</span> [];
<span class="hljs-keyword">const</span> baz = []; <span class="hljs-comment">// Equivalent to `const []`</span>
</code></pre> <p>You can omit <code>const</code> from the initializing expression of a <code>const</code> declaration, like for <code>baz</code> above. For details, see <a href="https://dart.dev/effective-dart/usage#dont-use-const-redundantly" target="_blank">DON’T use const redundantly</a>.<br> 您可以从 <code>const</code> 声明的初始化表达式中省略， <code>const</code> 如上所述 <code>baz</code> 。有关详细信息，请参阅不要冗余地使用 const。</p> <p>You can change the value of a non-final, non-const variable, even if it used to have a <code>const</code> value:<br> 您可以更改非最终、非常量变量的值，即使它曾经有一个 <code>const</code> 值：</p> <pre><code class="hljs lang-dart">foo = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// Was const []</span>
</code></pre> <p>You can’t change the value of a <code>const</code> variable:<br> 您无法更改 <code>const</code> 变量的值：</p> <pre><code class="hljs lang-dart"><span class="hljs-comment">// error-next-line</span>
baz = [<span class="hljs-number">42</span>]; <span class="hljs-comment">// Error: Constant variables can't be assigned a value.</span>
</code></pre> <p>You can define constants that use <a href="https://dart.dev/language/operators#type-test-operators" target="_blank">type checks and casts</a> (<code>is</code> and <code>as</code>), <a href="https://dart.dev/language/collections#control-flow-operators" target="_blank">collection <code>if</code></a>, and <a href="https://dart.dev/language/collections#spread-operators" target="_blank">spread operators</a> (<code>...</code> and <code>...?</code>):<br> 您可以定义使用类型检查和强制转换 （ 和 ）、集合 <code>if</code> 和扩展运算符 （ <code>...</code> <code>is</code> 和 <code>as</code> <code>...?</code> ） 的常量：</p> <pre><code class="hljs lang-dart"><span class="hljs-keyword">const</span> <span class="hljs-built_in">Object</span> i = <span class="hljs-number">3</span>; <span class="hljs-comment">// Where i is a const Object with an int value...</span>
<span class="hljs-keyword">const</span> list = [i <span class="hljs-keyword">as</span> <span class="hljs-built_in">int</span>]; <span class="hljs-comment">// Use a typecast.</span>
<span class="hljs-keyword">const</span> map = {<span class="hljs-keyword">if</span> (i <span class="hljs-keyword">is</span> <span class="hljs-built_in">int</span>) i: <span class="hljs-string">'int'</span>}; <span class="hljs-comment">// Use is and collection if.</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">set</span> = {<span class="hljs-keyword">if</span> (list <span class="hljs-keyword">is</span> <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">int</span>&gt;) ...list}; <span class="hljs-comment">// ...and a spread.</span>
</code></pre> <p>:::note</p> <p>Although a <code>final</code> object cannot be modified, its fields can be changed. In comparison, a <code>const</code> object and its fields cannot be changed: they’re <em>immutable</em>.<br> 虽然 <code>final</code> 无法修改对象，但可以更改其字段。相比之下， <code>const</code> 对象及其字段是无法更改的：它们是不可变的。</p> <p>:::</p> <p>For more information on using <code>const</code> to create constant values, see <a href="https://dart.dev/language/collections#lists" target="_blank">Lists</a>, <a href="https://dart.dev/language/collections#maps" target="_blank">Maps</a>, and <a href="https://dart.dev/language/classes" target="_blank">Classes</a>.<br> 有关用于 <code>const</code> 创建常量值的更多信息，请参见列表、映射和类。</p> <hr> <script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOMaY3rc4ChNfY" data-emit-metadata="0" data-input-position="top" data-lang="zh-CN" data-loading="lazy" data-mapping="pathname" data-reactions-enabled="1" data-repo="share121/ablog" data-repo-id="R_kgDOMaY3rQ" data-strict="0" data-theme="light" src="https://giscus.app/client.js"></script> </main> <aside id="toc"><nav class="table-of-contents"><ol><li><a href="#变量">变量</a><ol><li><a href="#null-safety-零安全">Null safety 零安全</a></li><li><a href="#default-value-默认值">Default value 默认值</a></li><li><a href="#late-variables-后期变量">Late variables 后期变量</a></li><li><a href="#final-and-const-final-和-const">Final and const Final 和 const</a></li></ol></li></ol></nav></aside> </div> <script>function debounce(e,t){let o=null;return function(){clearTimeout(o),o=setTimeout(()=>{e.apply(this,arguments)},t)}}let lightQuery=window.matchMedia("(prefers-color-scheme:light)");function getRandomInt(e,t){e=Math.ceil(e),t=Math.floor(t);return Math.floor(Math.random()*(t-e)+e)}lightQuery.addEventListener("change",e=>{localStorage.getItem("theme")||(document.documentElement.dataset.theme=["dark","light"][+e.matches])}),window.matchMedia("(max-width: 960px)").addEventListener("change",e=>{document.querySelector("#content").classList.remove("open")}),localStorage.getItem("theme")?"dark"===localStorage.getItem("theme")&&(document.documentElement.dataset.theme="dark"):document.documentElement.dataset.theme=["dark","light"][+lightQuery.matches],location.hash&&document.querySelector(decodeURIComponent(location.hash))?document.querySelector(decodeURIComponent(location.hash)).scrollIntoView():document.querySelector("#main").scrollTop=+(localStorage.getItem("scroll-top-"+location.pathname)??0),document.querySelector("#main").style.scrollBehavior="smooth",document.querySelector("#content").scrollTop=+(localStorage.getItem("content-scroll-top")??0),document.querySelectorAll(".theme-switch").forEach(e=>e.addEventListener("click",e=>{"dark"===document.documentElement.dataset.theme?(lightQuery.matches?localStorage.removeItem("theme"):localStorage.setItem("theme","light"),document.documentElement.dataset.theme="light"):(lightQuery.matches?localStorage.setItem("theme","dark"):localStorage.removeItem("theme"),document.documentElement.dataset.theme="dark")})),document.querySelector(".random-btn").addEventListener("click",e=>{var t=document.querySelectorAll("#content a");t[getRandomInt(0,t.length)].click()}),document.querySelector("#main").addEventListener("scroll",debounce(e=>{localStorage.setItem("scroll-top-"+location.pathname,e.target.scrollTop)},100)),document.querySelector("#content").addEventListener("scroll",debounce(e=>{localStorage.setItem("content-scroll-top",e.target.scrollTop)},100)),document.querySelector(".menu-btn").addEventListener("click",()=>{document.querySelector("#content").classList.toggle("open")})</script> <script type="module"> import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
      mermaid.initialize({
        securityLevel: "loose",
        theme: "default",
        startOnLoad: false,
      });
      await mermaid.run({ querySelector: ".mermaid-light" });
      mermaid.initialize({
        securityLevel: "loose",
        theme: "dark",
        startOnLoad: false,
      });
      await mermaid.run({ querySelector: ".mermaid-dark" });
      document
        .querySelectorAll(".mermaid")
        .forEach((e) => e.classList.add("init")); </script> </body></html>